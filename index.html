<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>BOM DOM Events</title>
<link rel="stylesheet" href="engine/codemirror/codemirror.css">
<link rel="stylesheet" href="engine/style.css">
<style>
<!-- custom style goes here -->
</style>
</head>

<body class="slideshowX">

<h1>BOM DOM Events</h1>

<h2>Intro</h2>

<h3>About Us</h3>
<pre>
Filip Svetličić - senior frontend developer, Inchoo
http://inchoo.net/author/filip-svetlicic/

Osijek Software City, http://softwarecity.hr
J. J. Strossmayer University of Osijek – Department of Mathematics, http://www.mathos.unios.hr/
</pre>

<h3>Workshop URL</h3>
<pre>
http://ficosvt.github.io/bom-dom-events/
(source at https://github.com/ficosvt/bom-dom-events/)
</pre>

<h3>Workshop user guide</h3>
<form>
<textarea>
//1.click Run button
alert("Hello Matematika");

//2.click F12, switch to Console tab, click Run button
console.log("Hello Matematika");

//3.uncomment bellow line, edit {name}, click Run button
//alert("Hello {name}");

//4.click Reset button

//5.press shift+n, shift+s to toggle between modes
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
Google Chrome with built-in dev tools
https://developers.google.com/chrome-developer-tools/
</pre>

<h3>Codecademy, JSFiddle</h3>
<pre>
http://www.codecademy.com/ Learn to code interactively. Register.
http://jsfiddle.net Online code editor and playground. Register.
</pre>


<h2>BOM - Browser object model</h2>

<pre>
All browsers are split into different parts (objects) that can be accessed trough Javascript. These parts are known as the Browser Object Model (BOM)
Main object is Window and it’s at the top of the hierarchy. All global JavaScript objects, methods, and properties automatically become members of the window object.
These allow you do things like, redirecting the user to a different web page, get the size of the browser window, access all the HTML elements on the page and, again, a whole lot more besides.
Example of relations between objects in BOM

<img src="assets/bom.png" />

</pre>

<h3>window.document</h3>

<pre>
Returns the Document object for the window.
When an HTML document is loaded into a web browser, it becomes a document object.
The document object is the root node of the HTML document and the "owner" of all other nodes:
(element nodes, text nodes, attribute nodes, and comment nodes).
The document object provides properties and methods to access all node objects, from within JavaScript.
</pre>
<form>
<textarea>
	
//console.log(document);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window.navigator</h3>
<pre>
The navigator object contains information about the browser, like the userAgent, product etc.
</pre>
<form>
<textarea>
	
console.log(navigator.userAgent);
//console.log(navigator.appName);
//console.log(navigator.appCodeName);
//console.log(navigator.appVersion);
//console.log(navigator.platform);

/* for (var i = 0; i < navigator.plugins.length; i++) {
	console.log(navigator.plugins[i].description);
} */

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window.location</h3>
<pre>The location object contains information about the current URL.
The location object is part of the window object and is accessed through the window.location property.
</pre>
<form>
<textarea>
	
console.log(window.location.host);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>winodw.history</h3>
<pre>The history object contains the URLs visited by the user (within a browser window).
The history object is part of the window object and is accessed through the window.history property.
</pre>
<form>
<textarea>
	
console.log(history.length);

function goBack() {
	window.history.back();
}

//goBack();


</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window.screen</h3>
<pre>
Object screen contains information about display, including it’s width and height and many other useful informations. Although not used frequently, it’s a good information source for functionalities that could change width or height of the browser window.
</pre>
<form>
<textarea>
	
//console.log(window.screen);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window object main methods</h3>
<pre>
window.alert(); window.confirm(); winodw.prompt(); window.open(); window.print(); window.scrollTo();	
</pre>
<form>
<textarea>
	
alert("This is the test");

//confirm("Do you want to proceed?");

//prompt("What’s your name?","Wouldn’t you like to know…");

//window.open("http://midiman-midi.com","test","width=600,height=400,toolbar=no,location=no");

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h2>DOM - Document object model</h2>

<h3>Html DOM</h3>
<pre>
When a web page is loaded, the browser creates a Document Object Model of the page.
<img src="assets/pic_htmltree.gif" />
</pre>
<pre>
The HTML DOM model is constructed as a tree of Objects:
With the object model, JavaScript gets all the power it needs to create dynamic HTML	
The HTML DOM is a standard object model and programming interface for HTML. 
It defines:
<ul>
<li>The HTML elements as objects</li>
<li>The properties of all HTML elements</li>
<li>The methods to access all HTML elements</li>
<li>The events for all HTML elements</li>
</ul>
In the DOM, all HTML elements are defined as objects.
Html tags + Text + Comments + .. (NODES)
The HTML DOM is a standard for how to get, change, add, or delete HTML elements.
Child, parent, sibling, ancestor, descendant.
<img src="assets/nodetree.gif" />
</pre>
<h3>Document object</h3>
<pre>
The JavaScript Document object is the container for all HTML HEAD and BODY objects associated within the HTML tags of an HTML document. 
The document object provides properties and methods to access all node objects, from within JavaScript.
</pre>

<form>
<textarea>
	
console.log(document);

//var h1 = document.getElementsByTagName("H1")[0];

//document.getElementById('test');

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<h3>Element object</h3>
<pre>
In the HTML DOM, the Element object represents an HTML element. Element objects can have child nodes of type element nodes, text nodes, or comment nodes. 
A NodeList object represents a list of nodes, like an HTML element's collection of child nodes.
Elements can also have attributes.
</pre>
<form>
<textarea>
	
var att = document.createAttribute("id");
//att.value("test");
//h1.setAttributeNode(att); 

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM manipulation</h3>

<form>
<textarea>
	
var newDiv = document.createElement("div");
//var newP = document.createElement("p");
//var newText = document.createTextNode("New paragraph");
//newP.appendChild(newText);
//newDiv.appendChild(newP);

// insertBefore(); replaceChild(); removeChild(); appendChild();

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Selectors</h3>
<pre>Oldies</pre>
<form>
<textarea>
	
document.getElementById();
document.getElementsByTagName();
Element.getElementsByTagName();
document.getElementsByName(name);
document.anchors
document.forms
document.images
document.links

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<form>
<textarea>
	
document.getElementsByClassName()
Element.getElementsByClassName()
element = document.querySelector(selectors);
elementList = document.querySelectorAll(selectors);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h2>Events</h2>

<pre>
Events are signals generated when specific actions occur.
JavaScript is aware of these signals, and scripts can be built to react to these events.

An event handler is a routine that is used to handle the event, allowing a programmer to write code that will be executed when the event occurs.
</pre>

<h3>DOM Level 0 model</h3>

<pre>The oldest DOM implementation.
Events are attached to elements and can be added in form of attributes or directly. 
</pre>

<form>
<textarea>
	
var hello = function () {
alert("Hi");
}

// old netscape model	
<body onload="hello()"></div>

window.onload=hello

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM Level 2 model</h3>

<pre>An event listener is a procedure or function in a computer program that waits for an event to occur; that event may be a user clicking or moving the mouse, pressing a key on the keyboard, or an internal timer or interrupt. The listener is in effect a loop that is programmed to react to an input or signal.</pre>

<form>
<textarea>
	
//<a id="click-me "href="#">Click me</a>

var hello = function () {
alert(“Hi”);
return false;
// e.preventDefault();
}

document.getElementById('click-me').addEventListener('click', hello);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<a id="click-me "href="http://inchoo.net">Click me</a>

<h3>Common events</h3>

<pre>click
keydown,keyup,keypress
load,unload
mouseover,mouseout
mousemoves
scroll,
submit
touchstart
touchmove
touchend
touchcancel
</pre>

<form>
<textarea>
	
//<a id="click-me-2" href="#">Click me 2</a>
document.getElementById('click-me-2').addEventListener('click', function (event) {
	return false;
	console.log(event);
});

window.addEventListener('keydown', function (event) {
//console.log(event);
	if (event.keyCode == 27) {
	    alert("Escape");
	}
});

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<a id="click-me-2" href="#">Click me 2</a>

<h3>Cross browser compatibility</h3>

<form>
<textarea>
	
//[if lt IE 9]
if (el.addEventListener) {
	el.addEventListener('click', listener, false); 
} else if (el.attachEvent)  {
	el.attachEvent('onclick', listener);
}

</textarea>
</form>

<h3>Propagation</h3>
<pre>
<img src="assets/eventflow.png" />
Capturing vs bubbling
</pre>
<form>
<textarea>
	
<div>
	<a>
		<span>Click me</span>
	</a>
</div>

</textarea>
</form>
<pre>
Bubbling is default! Just remember that you're going from inside.
Event.stopPropagation();
</pre>

<h3>Common examples</h3>

<pre>
RTFM :)
Which Element has which Event?

</pre>

<form>
<textarea>
	
for (i in window) {
  if (/^on/.test(i)) { console.log(i); }
}
/*
for (i in document.getElementById('click-me-4')) {
  if (/^on/.test(i)) { console.log(i); }
}
*/

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM ready</h3>

<form>
<textarea>
document.addEventListener("DOMContentLoaded", function() {
  // Code
}, false);	
</textarea>
</form>

<h3>Resources</h3>
<pre>
http://ryanmorr.com/understanding-scope-and-context-in-javascript/
http://ejohn.org/apps/learn/
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function
http://www.w3schools.com/js/js_function_closures.asp
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures
https://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures/
</pre>


<!--
<h2>Subtitle</h2>

<h3>Dummy</h3>
<form>
<textarea>
console.log(123);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>

</pre>
-->


<p class="foot">2015 Filip Svetličić, Inchoo</p>

<script src="engine/jquery-2.0.3.min.js"></script>
<script src="engine/codemirror/codemirror.js"></script>
<script src="engine/codemirror/javascript.js"></script>
<script src="engine/codemirror/matchbrackets.js"></script>
<script src="engine/script.v2.js"></script>
<script>
<!-- custom js goes here -->	
</script>
</body>
</html>
