<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Forms, AJAX, Data types</title>
<link rel="stylesheet" href="engine/codemirror/codemirror.css">
<link rel="stylesheet" href="engine/style.css">
<style>
<!-- custom style goes here -->
</style>
</head>

<body class="slideshowX">

<h1>Forms, AJAX, Data types</h1>

<h2>Intro</h2>

<h3>About Us</h3>
<pre>
Filip Svetličić - senior frontend developer, Inchoo
http://inchoo.net/author/filip-svetlicic/

Osijek Software City, http://softwarecity.hr
J. J. Strossmayer University of Osijek – Department of Mathematics, http://www.mathos.unios.hr/
</pre>

<h3>Workshop URL</h3>
<pre>
http://ficosvt.github.io/bom-dom-events/
(source at https://github.com/ficosvt/bom-dom-events/)
</pre>

<h3>Workshop user guide</h3>
<form>
<textarea>
//1.click Run button
alert("Hello Matematika");

//2.click F12, switch to Console tab, click Run button
console.log("Hello Matematika");

//3.uncomment bellow line, edit {name}, click Run button
//alert("Hello {name}");

//4.click Reset button

//5.press shift+n, shift+s to toggle between modes
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
Google Chrome with built-in dev tools
https://developers.google.com/chrome-developer-tools/
</pre>

<h3>Codecademy, JSFiddle</h3>
<pre>
http://www.codecademy.com/ Learn to code interactively. Register.
http://jsfiddle.net Online code editor and playground. Register.
</pre>


<h2>Forms</h2>

<pre>
HTML Forms are one of the main points of interaction between a user and a web site or application. They allow users to send data to the web site. Most of the time that data is sent to the web server, but the web page can also intercept it to use it on its own.
An HTML Form is made of one or more widgets. Those widgets can be text fields (single line or multiline), select boxes, buttons, checkboxes, or radio buttons. Most of the time, those widgets are paired with a label that describes their purpose.

In javascript, you can access forms through DOM (Document Object Model) object document on two ways. First is to use property forms.
</pre>
<form>
<textarea>

    var theForm = document.forms[0];

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>
What's the problem with this approach?
Directly in situations when adding another forms to the page.

Second approach is to use getElementById() method.
</pre>
<form>
<textarea>

var theForm = document.getElementById("testForm");

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Forms and events</h3>
<pre>
Main event for handling forms is submit, while method is onsubmit. We can also attach event directly or we can use DOM level 2 event listeners.
</pre>
<form>
<textarea>
var theForm = document.getElementById("testForm");

theForm.onsubmit=formHandler();

theForm.addEventListener("submit",formHandler());
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<h3>Form elements</h3>
<pre>
Main form elements are input, select, textarea and button.
The most important form element is the input element.
The input element can vary in many ways, depending on the type attribute.

The select element defines a drop-down list.

The textarea element defines a multi-line input field (a text area).

The button element defines a clickable button.
</pre>

<h3>Form processing</h3>

<pre>
As soon as we have configured and prepared our form elements on the client side, we need to handle data on the server side too. In our examples we'll use PHP.
</pre>
<h3>Element select</h3>
<pre>
List of properties that can be accesed through javascript

disabled, form, length, options, selectedIndex, type

Select options are added to options array. Each one is an object with several properties. For validation checks interesting properties are selected, value and text.
<a href="https://jsfiddle.net/FicoSv/sd85m3on/">Select element example</a>
</pre>


<h3>window.location</h3>
<pre>The location object contains information about the current URL.
The location object is part of the window object and is accessed through the window.location property.
</pre>
<form>
<textarea>
	
console.log(window.location.host);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>winodw.history</h3>
<pre>The history object contains the URLs visited by the user (within a browser window).
The history object is part of the window object and is accessed through the window.history property.
</pre>
<form>
<textarea>
	
console.log(history.length);

function goBack() {
	window.history.back();
}

//goBack();


</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window.screen</h3>
<pre>
Object screen contains information about display, including it’s width and height and many other useful informations. Although not used frequently, it’s a good information source for functionalities that could change width or height of the browser window.
</pre>
<form>
<textarea>
	
//console.log(window.screen);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>window object main methods</h3>
<pre>
window.alert(); window.confirm(); winodw.prompt(); window.open(); window.print(); window.scrollTo();	
</pre>
<form>
<textarea>
	
alert("This is the test");

//confirm("Do you want to proceed?");

//prompt("What’s your name?","Wouldn’t you like to know…");

//window.open("http://midiman-midi.com","test","width=600,height=400,toolbar=no,location=no");

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h2>DOM - Document object model</h2>

<h3>Html DOM</h3>
<pre>
When a web page is loaded, the browser creates a Document Object Model of the page.
<img src="assets/pic_htmltree.gif" />
</pre>
<pre>
The HTML DOM model is constructed as a tree of Objects:
With the object model, JavaScript gets all the power it needs to create dynamic HTML	
The HTML DOM is a standard object model and programming interface for HTML. 
It defines:
<ul>
<li>The HTML elements as objects</li>
<li>The properties of all HTML elements</li>
<li>The methods to access all HTML elements</li>
<li>The events for all HTML elements</li>
</ul>
In the DOM, all HTML elements are defined as objects.
Html tags + Text + Comments + .. (NODES)
The HTML DOM is a standard for how to get, change, add, or delete HTML elements.
Child, parent, sibling, ancestor, descendant.
<img src="assets/nodetree.gif" />
</pre>
<h3>Document object</h3>
<pre>
The JavaScript Document object is the container for all HTML HEAD and BODY objects associated within the HTML tags of an HTML document. 
The document object provides properties and methods to access all node objects, from within JavaScript.
</pre>

<form>
<textarea>
	
console.log(document);

//var h1 = document.getElementsByTagName("H1")[0];

//document.getElementById('test');

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<h3>Element object</h3>
<pre>
In the HTML DOM, the Element object represents an HTML element. Element objects can have child nodes of type element nodes, text nodes, or comment nodes. 
A NodeList object represents a list of nodes, like an HTML element's collection of child nodes.
Elements can also have attributes.
</pre>
<form>
<textarea>
	
var att = document.createAttribute("id");
//att.value("test");
//h1.setAttributeNode(att); 

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM manipulation</h3>

<form>
<textarea>
	
var newDiv = document.createElement("div");
//var newP = document.createElement("p");
//var newText = document.createTextNode("New paragraph");
//newP.appendChild(newText);
//newDiv.appendChild(newP);

// insertBefore(); replaceChild(); removeChild(); appendChild();

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>Selectors</h3>
<pre>Oldies</pre>
<form>
<textarea>
	
document.getElementById();
document.getElementsByTagName();
Element.getElementsByTagName();
document.getElementsByName(name);
document.anchors
document.forms
document.images
document.links

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<form>
<textarea>
	
document.getElementsByClassName()
Element.getElementsByClassName()
element = document.querySelector(selectors);
elementList = document.querySelectorAll(selectors);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h2>Events</h2>

<pre>
Events are signals generated when specific actions occur.
JavaScript is aware of these signals, and scripts can be built to react to these events.

An event handler is a routine that is used to handle the event, allowing a programmer to write code that will be executed when the event occurs.
</pre>

<h3>DOM Level 0 model</h3>

<pre>The oldest DOM implementation.
Events are attached to elements and can be added in form of attributes or directly. 
</pre>

<form>
<textarea>
	
var hello = function () {
alert("Hi");
}

// old netscape model	
<body onload="hello()"></div>

window.onload=hello

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM Level 2 model</h3>

<pre>An event listener is a procedure or function in a computer program that waits for an event to occur; that event may be a user clicking or moving the mouse, pressing a key on the keyboard, or an internal timer or interrupt. The listener is in effect a loop that is programmed to react to an input or signal.</pre>

<form>
<textarea>
	
//<a id="click-me "href="#">Click me</a>

var hello = function () {
alert(“Hi”);
return false;
// e.preventDefault();
}

document.getElementById('click-me').addEventListener('click', hello);

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<a id="click-me "href="http://inchoo.net">Click me</a>

<h3>Common events</h3>

<pre>click
keydown,keyup,keypress
load,unload
mouseover,mouseout
mousemoves
scroll,
submit
touchstart
touchmove
touchend
touchcancel
</pre>

<form>
<textarea>
	
//<a id="click-me-2" href="#">Click me 2</a>
document.getElementById('click-me-2').addEventListener('click', function (event) {
	return false;
	console.log(event);
});

window.addEventListener('keydown', function (event) {
//console.log(event);
	if (event.keyCode == 27) {
	    alert("Escape");
	}
});

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<a id="click-me-2" href="#">Click me 2</a>

<h3>Cross browser compatibility</h3>

<form>
<textarea>
	
//[if lt IE 9]
if (el.addEventListener) {
	el.addEventListener('click', listener, false); 
} else if (el.attachEvent)  {
	el.attachEvent('onclick', listener);
}

</textarea>
</form>

<h3>Propagation</h3>
<pre>
<img src="assets/eventflow.png" />
Capturing vs bubbling
</pre>
<form>
<textarea>
	
<div>
	<a>
		<span>Click me</span>
	</a>
</div>

</textarea>
</form>
<pre>
Bubbling is default! Just remember that you're going from inside.
Event.stopPropagation();
</pre>

<h3>Common examples</h3>

<pre>
RTFM :)
Which Element has which Event?

</pre>

<form>
<textarea>
	
for (i in window) {
  if (/^on/.test(i)) { console.log(i); }
}
/*
for (i in document.getElementById('click-me-4')) {
  if (/^on/.test(i)) { console.log(i); }
}
*/

</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>

<h3>DOM ready</h3>

<form>
<textarea>
document.addEventListener("DOMContentLoaded", function() {
  // Code
}, false);	
</textarea>
</form>

<h3>Resources</h3>
<pre>
http://ryanmorr.com/understanding-scope-and-context-in-javascript/
http://ejohn.org/apps/learn/
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function
http://www.w3schools.com/js/js_function_closures.asp
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures
https://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures/
</pre>


<!--
<h2>Subtitle</h2>

<h3>Dummy</h3>
<form>
<textarea>
console.log(123);
</textarea>
<button type="button">Reset</button><button type="submit">Run</button>
</form>
<pre>

</pre>
-->


<p class="foot">2015 Filip Svetličić, Inchoo</p>

<script src="engine/jquery-2.0.3.min.js"></script>
<script src="engine/codemirror/codemirror.js"></script>
<script src="engine/codemirror/javascript.js"></script>
<script src="engine/codemirror/matchbrackets.js"></script>
<script src="engine/script.v2.js"></script>
<script>
<!-- custom js goes here -->	
</script>
</body>
</html>
